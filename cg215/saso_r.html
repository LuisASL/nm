{% extends "base.html" %}
{% import 'bootstrap/wtf.html' as wtf %}

{% block app_content %}
<ol class="breadcrumb">
  <li><a href="{{url_for('saso_215_l')}}">Lista de solicitudes</a></li>
  <li class="active">{{ solicitud.saasg_nombre }} {{ solicitud.saasg_papellido }} {{ solicitud.saasg_sapellido }}</li>
</ol>
<br>
{% if current_user.is_active and current_user.pgus_usaad == True %}      
   <div class="row">
    <div class="col-xl-4 col-lg-7">   
      <div class="list-group"> 
          <a class="list-group-item active"  href="#rev_1_1" data-toggle="modal" data-id = {{ solicitud.saasg_id }}>
            <i class="fas fa-thumbs-up"></i> Responer solicitud</a>
      </div>
    </div>
  </div>  
{% endif %}
<br>
<br>
<div class="modal fade" id="rev_1_1" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog" role="document">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title" id="exampleModalLabel">Revisión</h5>
                  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                  </button>
                </div>
                <div class="modal-body">
                    <div class="form-group">
                        <form action="{{url_for('saasg_rev')}}" method="POST" enctype="multipart/form-data">

                          <div class="form-group">
                            <select class="custom-select" id="rev_estatus_id" name="rev_estatus_id">
                              <option selected>Seleccionar opción</option>
                              <option value="1">Aprobar</option>
                              <option value="0">Rechazar</option>
                            </select>
                          </div>

                          <div class="form-group">
                            <label for="message-text" class="col-form-label", rows='6'>Observaciones:</label>
                            <textarea type="text" class="form-control" id="rev_comentarios_id" name="rev_comentarios_id" rows='6'></textarea>
                          </div>
                          <div class="form-group form-check">
                            <input hidden type="text" name="rp_1_1" id="rp_1_1" value=""/>
                          </div>

                          <div class="modal-footer">
                            <button class="list-group-item" data-dismiss="modal">Regresar</a>
                            <button type="submit" class="list-group-item active">Actualizar</button>                           
                         </div>


                        </form>
                    </div>
                </div>
              </div>
            </div>
</div>




  <!-- Begin Page Content -->
  <div class="container-fluid">
          <!-- DataTales Example -->
          <div class="card shadow mb-4">
            <div class="card-header py-3">
              <h6 class="m-0 font-weight-bold text-primary">Solicitudes de nuevo ingreso</h6>
            </div>
            <div class="card-body">
              <div class="table-responsive">
             <table class="table table-striped" width="100%" cellspacing="0">
              <table class="table">
                <thead>
                  <th colspan="2">
                    INFORMACIÓN PERSONAL
                  </th>
                  <th colspan="2">
                    SOLICITUD
                  </th>                  
                  <tr>
                    <td scope="row"><b>CURP</b></td>
                    <td>{{ solicitud.saasg_curp }}</td>
                    <td scope="row"><b>Folio</b></td>
                    <td>{{ solicitud.saasg_folio }}</td>                      
                  </tr>
                  <tr>
                  <tr>
                    <td scope="row"><b>Nombre</b></td>
                    <td>{{ solicitud.saasg_papellido }} {{ solicitud.saasg_sapellido }} {{ solicitud.saasg_nombre }}</td>
                    <td scope="row"><b>Bachillerato</b></td>
                    <td>{{ solicitud.saasg_bachillerato }}</td>                      
                  </tr>
                  <tr>
                    <td scope="row"><b>Fecha de nacimiento</b></td>
                    <td>{{ solicitud.saasg_fnacimiento }}</td>
                    <td scope="row"><b>Lugar de Bachillerato</b></td>
                    <td>{{ solicitud.saasg_lugarbachiller }}</td>                      
                  </tr>
                  <tr>
                    <td scope="row"><b>Lugar de nacimiento</b></td>
                    <td>{{ solicitud.saasg_lnacimiento }}</td>
                    <td scope="row"><b>Promedio</b></td>
                    <td>{{ solicitud.saasg_promedio }}</td>                      
                  </tr>
                  <tr>
                  <tr>
                    <td scope="row"><b>Edad</b></td>
                    <td>{{ solicitud.saasg_edad }}</b></td>
                    <td scope="row"><b>Tiempo</b></td>
                    <td>{{ solicitud.saasg_tiempobachiller }}</td>                      
                  </tr>
                  <tr>
                    <td scope="row"><b>Sexo</b></td>
                    <td>{{ solicitud.saasg_sexo }}</td>
                    <td scope="row"><b>Otro proceso de ingreso</b></td>
                    <td>{{ solicitud.saasg_otroproceso }}</td>                      
                  </tr>
                  <tr>
                    <td scope="row"><b>Estado civil</b></td>
                    <td>{{ solicitud.saasg_ecivil }}</td>
                    <td scope="row"><b>Licenciatura del otro proceso</b></td>
                    <td>{{ solicitud.saasg_otroproceso_lic }}</td>                      
                  </tr>
                  <tr>
                    <td scope="row"><b>Nacionalidad</b></td>
                    <td>{{ solicitud.saasg_nacionalidad }}</td>
                    <td scope="row"><b>Aceptado</b></td>
                    <td>{{ solicitud.saasg_otroproceso_acep }}</td>                      
                  </tr>
                  <tr>
                    <td scope="row"><b>Calle y número</b></td>
                    <td>{{ solicitud.saasg_callen }}</td>
                    <td scope="row"><b>Cursada</b></td>
                    <td>{{ solicitud.saasg_otroproceso_curs }}</td>                      
                  </tr>                  
                  <tr>
                    <td scope="row"><b>Colonia</b></td>
                    <td>{{ solicitud.saasg_colonia }}</td>
                    <td scope="row"><b>Licenciatura aceptada</b></td>
                    <td>{{ solicitud.saasg_lic_aceptado }}</td>                      
                  </tr>    
                  <tr>
                    <td scope="row"><b>Municipio</b></td>
                    <td>{{ solicitud.saasg_municipio }}</td>
                    <td scope="row"><b>Solicitud</b></td>
                    <td><a href="{{ url_for('down_cg_f1', id_curp = solicitud.saasg_curp, id_saasg = solicitud.saasg_id) }}">
                        {{ solicitud.saasg_solicitud }}</a>
                    </td>                      
                  </tr>    
                  <tr>
                    <td scope="row"><b>Estado</b></td>
                    <td>{{ solicitud.saasg_estado }}</td>
                    <td scope="row"><b>Certificado o historial</b></td>
                    <td><a href="{{ url_for('down_cg_f2', id_curp = solicitud.saasg_curp, id_saasg = solicitud.saasg_id) }}">{{ solicitud.saasg_hiscer }}</a><br>
                        <a href="{{ url_for('solicitud_actualizar_cg_cert', id_curp = solicitud.saasg_curp, id_sol = solicitud.saasg_id) }}" class="btn-sm btn-warning" role="button">Actualizar</a>
                    </td>
                  </tr>    
                  <tr>
                    <td scope="row"><b>Código Postal</b></td>
                    <td>{{ solicitud.saasg_cp }}</td>                     
                    <td scope="row"><b>Boleta</b></td>
                    <td><a href="{{ url_for('down_cg_f3', id_curp = solicitud.saasg_curp, id_saasg = solicitud.saasg_id) }}">{{ solicitud.saasg_boleta }}</a><br>
                        <a href="{{ url_for('solicitud_actualizar_cg_boleta', id_curp = solicitud.saasg_curp, id_sol = solicitud.saasg_id) }}" class="btn-sm btn-warning" role="button">Actualizar</a>
                    </td>
                  </tr>    
                  <tr>
                    <td scope="row"><b>Teléfono</b></td>
                    <td>{{ solicitud.saasg_telefono }}</td>
                    <td scope="row"><b>Imagen</b></td>
                    <td><a href="{{ url_for('down_cg_f4', id_curp = solicitud.saasg_curp, id_saasg = solicitud.saasg_id) }}">{{ solicitud.saasg_imagen }}</a><br>
                        <a href="{{ url_for('solicitud_actualizar_cg_img', id_curp = solicitud.saasg_curp, id_sol = solicitud.saasg_id) }}" class="btn-sm btn-warning" role="button">Actualizar</a>
                    </td>                       
                  </tr>    
                  <tr>
                    <td scope="row"><b>Celular</b></td>
                    <td>{{ solicitud.saasg_celular }}</td>
                    <td></td>
                    <td></td>                                         
                  </tr>    
                  <tr>
                    <td scope="row"><b>Ocupación</b></td>
                    <td>{{ solicitud.saasg_ocupacion }}</td>
                    <td scope="row"></td>
                    <td></td>                      
                  </tr>
                  <tr>
                    <td scope="row"><b>Correo</b></td>
                    <td>{{ solicitud.saasg_email }}</td>
                    <td scope="row"></td>
                    <td></td>                      
                  </tr>         
        </table>
      </div>
</div>





    <!-- Logout Modal-->
    <div class="modal fade" id="finalizar" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">Validar registro de aspirante</h5>
            <button class="close" type="button" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">×</span>
            </button>
          </div>
          <div class="modal-body">Este proceso se puede llevar varios segundos. <br>
            Se envía un corre al aspirante notificando que su documentación es correcta.<br>
            La solicitud es asiganada a un comite y a un día para presentar examen.
          </div>
          <div class="modal-footer">
            <button class="btn btn-secondary" type="button" data-dismiss="modal">Cancelar</button>
            <a class="btn btn-primary" href="#">Enviar</a>
          </div>
        </div>
      </div>
    </div>

    <!-- Logout Modal-->
    <div class="modal fade" id="rechazar" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabelR" aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabelR">Rechazar registro de aspirante</h5>
            <button class="close" type="button" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">×</span>
            </button>
          </div>
          <div class="modal-body">Este proceso se puede llevar varios segundos. <br>
            Se envía un correo al aspirante notificando que su documentación no es correcta.<br>
            La solicitud es asignada a la opción rechazados, para permitir crear una nueva solicitud se debe dar una retroalimentación.
          </div>
          <div class="modal-footer">
            <button class="btn btn-secondary" type="button" data-dismiss="modal">Cancelar</button>
            <a class="btn btn-primary" href="#">Enviar</a>
          </div>
        </div>
      </div>
    </div>

</div>
</center>



   <div class="row">
    <div class="col-xl-4 col-lg-7">   
      <div class="list-group"> 
          <a class="btn btn-lg btn-danger btn-block"  href="#rev_del" data-toggle="modal" data-id = {{ solicitud.saasg_id }} role="button">
            <i class="glyphicon glyphicon-trash"></i> Eliminar solicitud</a>
      </div>
    </div>
  </div> 

    <!-- Logout Modal-->
    <div class="modal fade" id="rev_del" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabelR" aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabelR">Eliminar registro de aspirante</h5>
            <button class="close" type="button" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">×</span>
            </button>
          </div>
          <div class="modal-body">Este proceso se puede llevar varios segundos. <br>
            Se eliminará toda la información y archivos relacionados con esta solicitud.
          </div>
          <div class="modal-footer">
            <button class="btn btn-secondary" type="button" data-dismiss="modal">Cancelar</button>
            <a class="btn btn-primary" href="{{url_for('saasg_delete', id_curp = solicitud.saasg_curp, id_sol = solicitud.saasg_id )}}">Enviar</a>
          </div>
        </div>
      </div>
    </div>


<br>
<br>


{% endblock %}
{% block scripts %}
    {{ super() }}
  <script>
  $('#rev_1_1').on('show.bs.modal', function(e) {
      var rp_1_1 = $(e.relatedTarget).data('id');
      $(e.currentTarget).find('input[name="rp_1_1"]').val(rp_1_1);
  });
  </script>
{% endblock %}